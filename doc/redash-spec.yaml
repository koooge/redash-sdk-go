openapi: 3.0.2
info:
  title: redash
  version: 0.0.1
paths:
  /ping:
    get:
      responses:
        200:
          description: OK
          content:
            text/html:
              schema:
                type: string
                example: PONG.
  /status.json:
    get:
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  dashboards_count:
                    type: integer
                  database_metrics:
                    type: object
                    properties:
                      metrics:
                        type: array
                        items:
                          type: array
                          items:
                            oneOf:
                              - type: string
                              - type: integer
                  manager:
                    type: object
                    properties:
                      last_refresh_at:
                        type: string
                      outdated_queries_count:
                        type: string
                      query_ids:
                        type: string
                      queues:
                        type: object
                        properties:
                          celery:
                            type: object
                            properties:
                              data_sources:
                                type: string
                              size:
                                type: integer
                  queries_count:
                    type: integer
                  query_results_count:
                    type: integer
                  redis_used_memory:
                    type: integer
                  redis_used_memory_human:
                    type: string
                  unused_query_results_count:
                    type: integer
                  version:
                    type: string
                  widgets_count:
                    type: integer
                  workers:
                    type: array
                    items: {}
  /api/dashbaords:
    get:
      parameters:
        - in: query
          name: page_size
          schema:
            type: integer
        - in: query
          name: page
          schema:
            type: integer
        - in: query
          name: order
          schema:
            type: string
        - in: query
          name: q
          schema:
            type: string
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                  page:
                    type: integer
                  page_size:
                    type: integer
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        tags:
                          type: array
                          items:
                            type: string
                        is_archiverd:
                          type: boolean
                        updated_at:
                          type: string
                          format: date-time
                        is_favorite:
                          type: boolean
                        user:
                          type: object
                          properties:
                            auth_type:  
                              type: string
                            is_disabled:
                              type: boolean
                            updated_at:
                              type: string
                              format: date-time
                            profile_image_url:
                              type: string
                              format: uri
                            is_invitation_pending:
                              type: boolean
                            groups:
                              type: array
                              items:
                                type: integer
                            id:
                              type: integer
                            name:
                              type: string
                            created_at:
                              type: string
                              format: date-time
                            disabled_at:
                              type: string
                              format: date-time
                              nullable: true
                            is_email_verified:
                              type: boolean
                            active_at:
                              type: string
                              format: date-time
                            email:
                              type: string
                              format: email
                        layout:
                          type: array
                          items: {}
                        is_draft:
                          type: boolean
                        id:
                          type: integer
                        user_id:
                          type: integer
                        name:
                          type: string
                        created_at:
                          type: string
                          format: date-time
                        slug:
                          type: string
                        version:  
                          type: integer
                        widgets:  
                          nullable: true
                        dashboard_filters_enabled:
                          type: boolean
    post:
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
              required:
                - name
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  tags:
                    type: array
                    items:
                      type: string
                  is_archived:
                    type: boolean
                  updated_at:
                    type: string
                    format: date-time
                  is_favorite:
                    type: boolean
                  user:
                    type: object
                    properties:
                      auth_type:
                        type: string
                      is_disabled:
                        type: boolean
                      updated_at:
                        type: string
                        format: date-time
                      profile_image_url:
                        type: string
                        format: uri
                      is_invitation_pending:
                        type: boolean
                      groups:
                        type: array
                        items:
                          type: integer
                      id:
                        type: integer
                      name:
                        type: string
                      created_at:
                        type: string
                        format: date-time
                      disabled_at:
                        type: string
                        format: date-time
                        nullable: true
                      is_email_verified:
                        type: boolean
                      active_at:
                        type: string
                        format: date-time
                      email:
                        type: string
                        format: email
                  layout:
                    type: array
                    items: {}
                  is_draft:
                    type: boolean
                  id:
                    type: integer
                  user_id:
                    type: integer
                  name:
                    type: string
                  created_at:
                    type: string
                    format: date-time
                  slug:
                    type: string
                  version:
                    type: integer
                  widgets:
                    nullable: true
                  dashboard_filters_enabled:
                    type: boolean
  /api/data_sources:
    get:
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    pause_reason:
                      type: string
                      nullable: true
                    syntex:
                      type: string
                    paused:
                      type: integer
                    view_only:
                      type: boolean
                    type:
                      type: string
                    id:
                      type: integer
    post:
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                options:
                  type: object
                  properties:
                    dbname:
                      type: string
                name:
                  type: string
                type:
                  type: string
              required:
                - options
                - name
                - type
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  scheduled_queue_name:
                    type: string
                  name:
                    type: string
                  pause_reason:
                    type: string
                    nullable: true
                  queue_name:
                    type: string
                  syntax:
                    type: string
                  paused:
                    type: integer
                  options:
                    type: object
                    properties:
                      dbname:
                        type: string
                  groups:
                    type: object
                    properties:
                      2:
                        type: boolean
                  type:
                    type: string
                  id:
                    type: integer
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
  /api/groups:
    get:
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    created_at:
                      type: string
                      format: date-time
                    permissions:
                      type: array
                      items:
                        type: string
                    type:
                      type: string
                    id:
                      type: integer
                    name:
                      type: string
  /api/queries:
    get:
      parameters:
        - in: query
          name: page_size
          schema:
            type: integer
        - in: query
          name: page
          schema:
            type: integer
        - in: query
          name: order
          schema:
            type: string
        - in: query
          name: q
          schema:
            type: string
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                  page:
                    type: integer
                  page_size:
                    type: integer
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        user:
                          type: object
                          properties:
                            auth_type:
                              type: string
                            is_disabled:
                              type: boolean
                            updated_at:
                              type: string
                              format: date-time
                            profile_image_url:
                              type: string
                              format: uri
                            is_invitation_pending:
                              type: boolean
                            groups:
                              type: array
                              items:
                                type: integer
                            id:
                              type: integer
                            name:
                              type: string
                            created_at:
                              type: string
                              format: date-time
                            disabled_at:
                              type: string
                              format: date-time
                              nullable: true
                            is_email_verified:
                              type: boolean
                            active_at:
                              type: string
                              format: date-time
                            email:
                              type: string
                              format: email
                        created_at:
                          type: string
                          format: date-time
                        runtime:
                          nullable: true
                        latest_query_data_id:
                          type: integer
                          nullable: true
                        is_favorite:
                          type: boolean
                        schedule:
                          nullable: true
                        description:
                          type: string
                          nullable: true
                        tags:
                          type: array
                          items:
                            type: string
                        retrieved_at:
                          nullable: true
                        updated_at:
                          type: string
                          format: date-time
                        options:
                          type: object
                          additionalProperties: true
                        version:
                          type: number
                        last_modified_by_id:
                          type: integer
                        query_hash:
                          type: string
                        is_archived:
                          type: boolean
                        query:
                          type: string
                        api_key:
                          type: string
                        is_draft:
                          type: boolean
                        id:
                          type: integer
                        data_source_id:
                          type: integer
                        name:
                          type: string
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
    post:
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                data_source_id:
                  type: number
                query:
                  type: string
                name:
                  type: string
                description:
                  type: string
                schedule:
                  type: string
                options:
                  type: object
                  additionalProperties: true
              required:
                - data_source_id
                - query
                - name
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  user:
                    type: object
                    properties:
                      auth_type:
                        type: string
                      is_disabled:
                        type: boolean
                      updated_at:
                        type: string
                        format: date-time
                      profile_image_url:
                        type: string
                        format: uri
                      is_invitation_pending:
                        type: boolean
                      groups:
                        type: array
                        items:
                          type: integer
                      id:
                        type: integer
                      name:
                        type: string
                      created_at:
                        type: string
                        format: date-time
                      disabled_at:
                        type: string
                        format: date-time
                        nullable: true
                      is_email_verified:
                        type: boolean
                      active_at:
                        type: string
                        format: date-time
                      email:
                        type: string
                        format: email
                  created_at:
                    type: string
                    format: date-time
                  latest_query_data_id:
                    type: number
                    nullable: true
                  schedule:
                    type: string
                    nullable: true
                  description:
                    type: string
                  tags:
                    type: array
                    items:
                      type: string
                  updated_at:
                    type: string
                    format: date-time
                  last_modified_by:
                    type: object
                    properties:
                      auth_type:
                        type: string
                      is_disabled:
                        type: boolean
                      updated_at:
                        type: string
                        format: date-time
                      profile_image_url:
                        type: string
                        format: uri
                      is_invitation_pending:
                        type: boolean
                      groups:
                        type: array
                        items:
                          type: integer
                      id:
                        type: integer
                      name:
                        type: string
                      created_at:
                        type: string
                        format: date-time
                      disabled_at:
                        type: string
                        format: date-time
                      is_email_verified:
                        type: boolean
                      active_at:
                        type: string
                        format: date-time
                      email:
                        type: string
                        format: email
                  options:
                    type: object
                    additionalProperties: true
                  version:
                    type: integer
                  is_favorite:
                    type: boolean
                  query_hash:
                    type: string
                  is_archived:
                    type: boolean
                  query:
                    type: string
                  api_key:
                    type: string
                  is_draft:
                    type: boolean
                  id:
                    type: integer
                  data_source_id:
                    type: integer
                  name:
                    type: string
  /api/query_results:
    post:
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                query:
                  type: string
                query_id:
                  type: number
                max_age:
                  type: number
                data_source_id:
                  type: number
                parameters:
                  type: object
                  additionalProperties: true
              required:
                - query
                - data_source_id
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  job:
                    type: object
                    properties:
                      status:
                        type: integer
                      error:
                        type: string
                      id:
                        type: string
                      query_result_id:
                        type: integer
                        nullable: true
                      updated_at:
                        type: integer
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        403:
          description: Forbidden
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
  /api/users:
    get:
      parameters:
        - in: query
          name: page
          schema:
            type: integer
        - in: query
          name: page_size
          schema:
            type: integer
        - in: query
          name: q
          schema:
            type: string
        - in: query
          name: disabled
          schema:
            type: boolean
          allowEmptyValue: true
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                  page:
                    type: integer
                  page_size:
                    type: integer
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        auth_type:
                          type: string
                        is_disabled:
                          type: boolean
                        updated_at:
                          type: string
                          format: date-time
                        profile_image_url:
                          type: string
                          format: uri
                        is_invitation_pending:
                          type: boolean
                        groups:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: integer
                              name:
                                type: string
                        id:
                          type: integer
                        name:
                          type: string
                        created_at:
                          type: string
                          format: date-time
                        disabled_at:
                          type: string
                          format: date-time
                          nullable: true
                        actived_at:
                          type: string
                          format: date-time
                          nullable: true
                        email:
                          type: string
                          format: email
    post:
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                email:
                  type: string
                  format: emai
              required:
                - name
                - email
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  auth_type:
                    type: string
                  is_disabled:
                    type: boolean
                  updated_at:
                    type: string
                    format: date-time
                  profile_image_url:
                    type: string
                    format: uri
                  is_invitation_pending:
                    type: boolean
                  groups:
                    type: array
                    items:
                      type: integer
                  id:
                    type: integer
                  name:
                    type: string
                  created_at:
                    type: string
                    format: date-time
                  disabled_at:
                    type: string
                    format: date-time
                    nullable: true
                  invite_link:
                    type: string
                    format: uri
                  active_at:
                    type: string
                    format: date-time
                    nullable: true
                  email:
                    type: string
                    format: email
        400:
          description: Bad Request
          content:
            applicatin/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
  /api/visualizations:
    post:
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                query_id:
                  type: integer
                name:
                  type: string
                description:
                  type: string
                options:
                  type: object
                  additionalProperties: true
                type:
                  type: string
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  description:
                    nullable: true
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  id:
                    type: integer
                  type:
                    type: string
                  options:
                    type: object
                    additionalProperties: true
                  name:
                    type: string
  /api/widgets:
    post:
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                dashboard_id:
                  type: integer
                visualizationid:
                  type: integer
                options:
                  type: object
                  additionalProperties: true
                text:
                  type: string
                width:
                  type: number
              required:
                - dasboard_id
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  widget:
                    type: object
                    additionalProperties: true
  /api/destinations:
    post:
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                options:
                  type: object
                  additionalProperties: true
                name:
                  type: string
                type:
                  type: string
              required:
                - options
                - name
                - type
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  options:
                    type: object
                    additionalProperties: true
                  icon:
                    type: string
                  type:
                    type: string
                  id:
                    type: integer
                  name:
                    type: string
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        403:
          description: Forbidden
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
